{# If this fragment is returned directly by an HTMX endpoint, wrap it in the <li> so
   hx-swap="outerHTML" on #cat-item-{{ c.id }} cleanly replaces the whole item. #}
{% if wrap %}<li id="cat-item-{{ c.id }}">{% endif %}

  <div class="flex items-center justify-between bg-white rounded-xl shadow px-3 py-2">
    <span class="truncate" title="{{ c.name }}">{{ c.name }}</span>

    <div class="flex items-center gap-2">
      <span class="htmx-indicator text-gray-400 text-sm">Savingâ€¦</span>

      <button
        type="button"
        aria-label="Edit category {{ c.name }}"
        hx-get="/categories/edit/{{ c.id }}"
        hx-target="#cat-item-{{ c.id }}"
        hx-swap="outerHTML"
        hx-indicator="closest .htmx-indicator"
        class="text-blue-600"
      >Edit</button>

      <button
        type="button"
        aria-label="Delete category {{ c.name }}"
        class="text-red-600"
        hx-post="/categories/delete/{{ c.id }}"
        hx-target="#cat-list"
        hx-swap="innerHTML"
        hx-indicator="closest .htmx-indicator"
        hx-confirm="Delete '{{ c.name }}'?"
      >Delete</button>
    </div>
  </div>

{% if wrap %}</li>{% endif %}
