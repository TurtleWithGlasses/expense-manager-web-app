{% extends "base.html" %}
{% block content %}
<h1 class="text-xl font-semibold mb-3">Entries</h1>

<form id="entry-add"
      hx-post="/entries/create"
      hx-target="#entries-list"
      hx-swap="innerHTML"
      hx-on::after-request="this.reset()"
      class="grid md:grid-cols-6 gap-2 mb-4">
  <select name="type" required class="border rounded px-2 py-2">
    <option value="expense">Expense</option>
    <option value="income">Income</option>
  </select>
  <input type="number" step="0.01" name="amount" required placeholder="Amount" class="border rounded px-2 py-2">
  <select name="category_id" class="border rounded px-2 py-2">
    <option value="">(No category)</option>
    {% for c in categories %}
      <option value="{{ c.id }}">{{ c.name }}</option>
    {% endfor %}
  </select>
  <input type="date" name="date_str" required class="border rounded px-2 py-2">
  <input type="text" name="note" placeholder="Note (optional)" class="border rounded px-2 py-2">
  <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded">Add</button>
</form>

<div id="entries-list">
  {% include "entries/_list.html" %}
</div>
{% endblock %}
