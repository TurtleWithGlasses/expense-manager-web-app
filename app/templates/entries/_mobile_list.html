{% for e in entries %}
  <div class="card mb-3 mobile-entry-card" id="mobile-entry-{{ e.id }}">
    <div class="card-body">
      <!-- Header Row: Date and Type -->
      <div class="d-flex justify-content-between align-items-center mb-2">
        <div class="entry-date">
          <small class="text-muted">{{ e.date.strftime('%Y-%m-%d') }}</small>
        </div>
        <div class="entry-type">
          <span class="type-badge-mobile {{ e.type }}">
            {% if e.type == 'income' %}
              <i class="bi bi-arrow-up-circle"></i>
            {% else %}
              <i class="bi bi-arrow-down-circle"></i>
            {% endif %}
            {{ e.type|capitalize }}
          </span>
        </div>
      </div>
      
      <!-- Main Content: Amount and Category -->
      <div class="d-flex justify-content-between align-items-center mb-2">
        <div class="entry-amount {{ 'income-amount' if e.type == 'income' else 'expense-amount' }}">
          {% if e.type == 'income' %}+{% else %}-{% endif %}
          {% if e.currency_code == 'TRY' %}
            ₺{{ '%.2f'|format(e.amount) }}
          {% elif e.currency_code == 'EUR' %}
            €{{ '%.2f'|format(e.amount) }}
          {% elif e.currency_code == 'GBP' %}
            £{{ '%.2f'|format(e.amount) }}
          {% elif e.currency_code == 'JPY' %}
            ¥{{ '%.0f'|format(e.amount) }}
          {% elif e.currency_code == 'CAD' %}
            C${{ '%.2f'|format(e.amount) }}
          {% elif e.currency_code == 'AUD' %}
            A${{ '%.2f'|format(e.amount) }}
          {% elif e.currency_code == 'CHF' %}
            Fr{{ '%.2f'|format(e.amount) }}
          {% elif e.currency_code == 'CNY' %}
            ¥{{ '%.2f'|format(e.amount) }}
          {% elif e.currency_code == 'INR' %}
            ₹{{ '%.2f'|format(e.amount) }}
          {% elif e.currency_code == 'BRL' %}
            R${{ '%.2f'|format(e.amount) }}
          {% elif e.currency_code == 'MXN' %}
            ${{ '%.2f'|format(e.amount) }}
          {% elif e.currency_code == 'KRW' %}
            ₩{{ '%.0f'|format(e.amount) }}
          {% else %}
            ${{ '%.2f'|format(e.amount) }}
          {% endif %}
        </div>
        <div class="entry-category">
          <span class="badge bg-secondary">{{ e.category.name if e.category else 'No Category' }}</span>
        </div>
      </div>
      
      <!-- Note (if exists) -->
      {% if e.note %}
      <div class="entry-note mb-3">
        <small class="text-muted">{{ e.note }}</small>
      </div>
      {% endif %}
      
      <!-- Action Buttons -->
      <div class="d-flex gap-2">
        <button
          class="btn btn-outline-primary btn-sm flex-fill"
          hx-get="/entries/edit/{{ e.id }}"
          hx-target="#mobile-entry-{{ e.id }}"
          hx-swap="outerHTML">
          <i class="bi bi-pencil me-1"></i>Edit
        </button>
        <button
          class="btn btn-outline-danger btn-sm flex-fill"
          hx-post="/entries/delete/{{ e.id }}"
          hx-target="#mobile-entries-list"
          hx-swap="innerHTML"
          hx-confirm="Delete this entry?">
          <i class="bi bi-trash me-1"></i>Delete
        </button>
      </div>
    </div>
  </div>
{% else %}
  <div class="card">
    <div class="card-body text-center py-4">
      <i class="bi bi-inbox display-4 text-muted mb-3"></i>
      <p class="text-muted">No entries yet.</p>
    </div>
  </div>
{% endfor %}
